ğŸ“± PROCESSUS DE GÃ‰NÃ‰RATION DE L'APK
====================================

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Ã‰TAPES DU PROCESSUS                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1ï¸âƒ£  PRÃ‰REQUIS (Ã€ installer une seule fois)
   â”œâ”€ Java Development Kit (JDK 17+)
   â”œâ”€ Android Studio + SDK
   â””â”€ Configurer variables d'environnement

2ï¸âƒ£  DÃ‰VELOPPEMENT
   â”œâ”€ npm install (dÃ©pendances)
   â”œâ”€ npm run dev (tester en local)
   â””â”€ npm run build (gÃ©nÃ©rer dist/)

3ï¸âƒ£  PRÃ‰PARATION ANDROID
   â”œâ”€ npx cap add android (premiÃ¨re fois)
   â”œâ”€ npm run build
   â””â”€ npx cap sync android

4ï¸âƒ£  GÃ‰NÃ‰RATION APK
   â”œâ”€ Debug   â†’ ./gradlew assembleDebug
   â””â”€ Release â†’ ./gradlew assembleRelease

5ï¸âƒ£  INSTALLATION / DISTRIBUTION
   â”œâ”€ Appareil USB â†’ adb install app.apk
   â”œâ”€ Emulator     â†’ Android Studio
   â””â”€ Play Store   â†’ Google Play Console


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            FICHIERS GÃ‰NÃ‰RÃ‰S AUTOMATIQUEMENT                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

externe/
â”œâ”€â”€ ğŸ“„ capacitor.config.ts          â† Configuration Capacitor
â”œâ”€â”€ ğŸ“„ GUIDE_APK.md                 â† Guide complet
â”œâ”€â”€ ğŸ“„ APK_README.md                â† DÃ©marrage rapide
â”œâ”€â”€ ğŸ“„ check-apk-setup.ps1          â† VÃ©rifier config
â”œâ”€â”€ ğŸ“„ build-apk-debug.ps1          â† Script Debug
â”œâ”€â”€ ğŸ“„ build-apk-release.ps1        â† Script Release
â”‚
â”œâ”€â”€ ğŸ“ dist/                        â† Web build
â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ assets/
â”‚   â””â”€â”€ ...
â”‚
â””â”€â”€ ğŸ“ android/                     â† Projet Android Gradle
    â”œâ”€â”€ ğŸ“ app/
    â”‚   â”œâ”€â”€ ğŸ“ src/main/
    â”‚   â”‚   â”œâ”€â”€ AndroidManifest.xml
    â”‚   â”‚   â”œâ”€â”€ ğŸ“ assets/public/   â† Copie de dist/
    â”‚   â”‚   â”œâ”€â”€ ğŸ“ java/
    â”‚   â”‚   â””â”€â”€ ğŸ“ res/             â† IcÃ´nes, couleurs, etc
    â”‚   â”‚
    â”‚   â””â”€â”€ ğŸ“ build/outputs/apk/   â† ğŸ“± LES APK SONT ICI
    â”‚       â”œâ”€â”€ ğŸ“ debug/
    â”‚       â”‚   â””â”€â”€ app-debug.apk   â† Pour tester
    â”‚       â””â”€â”€ ğŸ“ release/
    â”‚           â””â”€â”€ app-release-unsigned.apk â† Pour Play Store
    â”‚
    â”œâ”€â”€ build.gradle.kts            â† Config Gradle
    â”œâ”€â”€ settings.gradle.kts
    â””â”€â”€ gradlew / gradlew.bat        â† Script Gradle


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              TAILLES APPROXIMATIVES                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

node_modules/        ~500 MB   (npm dependencies)
android/            ~300 MB   (SDK + Gradle)
dist/               ~700 KB   (Web build)
app-debug.apk       ~60 MB    (APK Debug)
app-release.apk     ~40 MB    (APK Release, avec minification)


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    COMMANDES UTILES                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

# VÃ©rifier la configuration
powershell .\check-apk-setup.ps1

# Build rapide Debug
powershell .\build-apk-debug.ps1

# Build Release signÃ©
powershell .\build-apk-release.ps1

# Manuellement - Build web
npm run build

# Manuellement - Sync Android
npx cap sync android

# Manuellement - Ouvrir dans Android Studio
npx cap open android

# Installer sur appareil
adb install .\android\app\build\outputs\apk\debug\app-debug.apk

# Lancer app sur emulator
adb shell am start -n fr.association.retrobus.essonne/.MainActivity


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  POINTS IMPORTANTS                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

âš ï¸  AVANT DE GÃ‰NÃ‰RER L'APK:
    â€¢ Tester l'app en local (npm run dev)
    â€¢ VÃ©rifier que npm run build fonctionne
    â€¢ Configurer ANDROID_HOME et JAVA_HOME

âœ… APRÃˆS GÃ‰NÃ‰RATION:
    â€¢ Tester l'APK sur appareil avant publication
    â€¢ Sauvegarder la clÃ© de signature (retrobus-essonne.keystore)
    â€¢ Versionner l'APK (versionCode dans build.gradle.kts)

ğŸ“¦ DISTRIBUTION:
    â€¢ APK Debug â†’ Tests internes, dÃ©veloppement
    â€¢ APK Release â†’ Google Play Store, distribution
    â€¢ ClÃ© de signature â†’ Ã€ garder en sÃ©curitÃ© !


Status: âœ… CAPACITOR CONFIGURÃ‰ ET PRÃŠT Ã€ L'EMPLOI
